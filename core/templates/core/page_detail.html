{% extends 'core/base.html' %} 

{% block title %}{{ page.title }}{% endblock %}

{% block content %}
  <h2>{{ page.title }}</h2>
  <h4 style="color: gray;">{{ page.subtitle }}</h4>

  <p><strong>Autor:</strong> {{ page.author }}</p>
  <p><strong>Fecha:</strong> {{ page.date|date:"d M Y - H:i" }}</p>

  {% if page.image %}
    <img src="{{ page.image.url }}" alt="Imagen" style="max-width: 100%; border-radius: 8px; margin: 1rem 0;">
  {% endif %}

  <div style="margin-top: 1rem;">
    <p>{{ page.body|linebreaks }}</p>
  </div>

  <div style="margin-top: 2rem;">
    <a href="{% url 'page_list' %}" style="margin-right: 1rem;">⬅ Volver a la lista</a>

    {% if user.is_authenticated and user == page.author %}
      <a href="{% url 'page_edit' page.id %}" style="margin-right: 1rem;">✏️ Editar</a>

      <form method="post" action="{% url 'page_delete' page.id %}" style="display:inline;" onsubmit="return confirm('¿Estás seguro de que querés eliminar esta página? Esta acción no se puede deshacer.');">
        {% csrf_token %}
        <button type="submit" style="background: none; border: none; color: red; cursor: pointer;">
          🗑 Eliminar
        </button>
      </form>
    {% endif %}
  </div>
{% endblock %}
